start transaction read write isolation level snapshot;

-- Аномалии
-- 1. Косая запись - не возникает, так как мы пишем/изменяем в одной таблице одно значение.
-- 2. Фантомная запись - требуется изоляция от фантомной записи, тк момент когда мы узнали, 
-- что место свободно и удалили старую запись, она уже могла быть не старой, а новой(другая транзакция внесла запись).
-- Ввывод: выбираем изоляцию уровня snapshot, как минимально необходимую.